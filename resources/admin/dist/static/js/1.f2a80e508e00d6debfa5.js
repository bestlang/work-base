webpackJsonp([1],{XwZp:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mvHQ"),i=e.n(s),n={data:function(){return{isActive:!0,tableData:[],params:{page:1,page_size:50,keyword:""},total:99999,defaultProps:{children:"children",label:"cat_name",isLeaf:"leaf"}}},mounted:function(){this.$store.getters.isCollapse||this.$store.dispatch("toggleState")},methods:{sendTo:function(t,a){var e=this;this.$http.post("/admin/attach/goods",{goods_id:t,plantform:1,type:a}).then(function(t){console.log(i()(t)),"1"==t.data.success?e.successMessage("操作成功"):e.errorMessage(t.data.message)})},toggleActive:function(){this.isActive=!this.isActive},searchClick:function(){this.params.page=1,this.handleNodeClick()},loadNode:function(t,a){var e=this,s=0;t.data&&(s=t.data.cat_id),this.$http.get("/pdd/goods/cats/get",{params:{parent_cat_id:s}}).then(function(t){"200"==t.statusCode?a(t.data):e.errorMessage("出错了")})},handleCurrentChange:function(t){this.params.page=t,this.handleNodeClick()},handleNodeClick:function(t,a){var e=this;t&&a&&a.level>=3&&(this.params.page=1,this.params.keyword=a.data.cat_name),this.$http.get("/pdd/goods/search",{params:this.params}).then(function(t){console.log(i()(t)),"200"==t.statusCode?e.tableData=t.data:e.errorMessage("出错了")})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flex-wrap"},[e("div",{staticClass:"left-tree",class:{active:t.isActive}},[e("div",{staticClass:"search-wrap"},[e("el-input",{attrs:{placeholder:"请输入内容",autofoucs:!0},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchClick(a)}},model:{value:t.params.keyword,callback:function(a){t.$set(t.params,"keyword",a)},expression:"params.keyword"}}),t._v(" "),e("div",{staticClass:"search-btn",on:{click:t.searchClick}},[e("i",{staticClass:"el-icon-search"})])],1),t._v(" "),e("el-tree",{attrs:{props:t.defaultProps,lazy:!0,load:t.loadNode},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),e("div",{staticClass:"right-content",class:{active:t.isActive}},[e("div",{staticClass:"toggle-active",on:{click:t.toggleActive}},[e("i",{staticClass:"el-icon-search"})]),t._v(" "),e("div",{staticClass:"goods-list"},t._l(t.tableData,function(a,s){return e("div",{staticClass:"goods-item"},[e("div",{staticClass:"img-wrap"},[e("img",{staticClass:"table-img",attrs:{src:a.goods_thumbnail_url}}),t._v(" "),e("div",{staticClass:"hover-title"},[t._v(t._s(a.goods_name))]),t._v(" "),e("div",{staticClass:"hover-btn"},[e("div",[e("button",{staticClass:"btn",on:{click:function(e){return t.sendTo(a.goods_id,1)}}},[t._v("首页推荐")])]),t._v(" "),e("div",[e("button",{staticClass:"btn",on:{click:function(e){return t.sendTo(a.goods_id,3)}}},[t._v("拼团0元购推荐")])]),t._v(" "),e("div",[e("button",{staticClass:"btn",on:{click:function(e){return t.sendTo(a.goods_id,5)}}},[t._v("0元购推荐")])])])]),t._v(" "),e("div",[t._v("券后价: "),e("span",{staticClass:"price"},[t._v("¥"+t._s((a.min_group_price-a.coupon_discount)/100))]),t._v(" 券: "),e("span",{staticClass:"price"},[t._v("¥"+t._s(a.coupon_discount/100))])]),t._v(" "),e("div",[t._v("佣金比例: "),e("span",{staticClass:"price"},[t._v(t._s(a.promotion_rate/10)+"%(¥"+t._s(((a.min_group_price-a.coupon_discount)*a.promotion_rate/1e5).toFixed(2))+"元)")])]),t._v(" "),e("div",{staticClass:"little-flex"},[e("div",[t._v("销量:"+t._s(a.sales_tip))])])])}),0),t._v(" "),e("div",{staticClass:"l-delimiter"}),t._v(" "),t.tableData.length?e("el-pagination",{attrs:{background:"","current-page":t.params.page,"page-size":t.params.page_size,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){return t.$set(t.params,"page",a)},"update:current-page":function(a){return t.$set(t.params,"page",a)}}}):t._e()],1)])},staticRenderFns:[]};var c=e("VU/8")(n,o,!1,function(t){e("wBKu")},"data-v-21588d9b",null);a.default=c.exports},mvHQ:function(t,a,e){t.exports={default:e("qkKv"),__esModule:!0}},qkKv:function(t,a,e){var s=e("FeBl"),i=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},wBKu:function(t,a){}});
//# sourceMappingURL=1.f2a80e508e00d6debfa5.js.map