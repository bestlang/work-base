webpackJsonp([7],{"2g65":function(t,e){},Ia7Q:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={};n.d(s,"ACCESS_TOKEN",function(){return y}),n.d(s,"ACTIVITY_TYPES",function(){return _}),n.d(s,"ACTIVITY_APPLICABLES",function(){return T});var o=n("7+uW"),a=n("zL8q"),i=n.n(a),c=(n("tvR6"),n("UBeP"),n("NYxO")),l=n("/ocq"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ls-top-wrap"},[e("div",{staticClass:"ls-top-left"},[e("div",{staticClass:"ls-top-logo"},[this._v("LARASHOP")]),this._v(" "),e("div",{staticClass:"ls-icon-collapse",on:{click:this.toggleCollapse}})]),this._v(" "),e("div",{staticClass:"ls-top-right"},[e("div",{staticClass:"logout",on:{click:this.logout}},[e("i",{staticClass:"iconfont"},[this._v(" ")]),this._v("登出")])])])},staticRenderFns:[]};var u={data:function(){return{}},computed:{isCollapse:function(){return this.$store.state.system.isCollapse}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-vertical",attrs:{router:"",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-claim"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("活动管理")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/activity/list"}},[n("i",{staticClass:"el-icon-document"}),n("span",[t._v("活动列表")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/activity/add"}},[n("i",{staticClass:"el-icon-plus"}),n("span",[t._v("活动添加")])])],2),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("多多管理")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/pdd/cat/goods"}},[n("i",{staticClass:"el-icon-document"}),n("span",[t._v("分类商品")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/pdd/orders"}},[n("i",{staticClass:"el-icon-coffee-cup"}),n("span",[t._v("购买订单")])])],2)],1)],1)},staticRenderFns:[]};var d={components:{"backend-top":n("VU/8")({methods:{toggleCollapse:function(){this.$store.dispatch("toggleState")},logout:function(){var t=this,e=this;this.$http.post("logout").then(function(n){"200"==n.statusCode?(e.$store.commit(e.$types.ACCESS_TOKEN,""),t.$router.push("/login")):"401"==n.statusCode&&t.$router.push("/login")})}}},r,!1,function(t){n("l4CH")},"data-v-52947e20",null).exports,"backend-menu":n("VU/8")(u,p,!1,function(t){n("Ia7Q")},"data-v-e2067488",null).exports},computed:{isCollapse:function(){return this.$store.state.system.isCollapse}},mounted:function(){this.$store.dispatch(this.$types.ACTIVITY_TYPES),this.$store.dispatch(this.$types.ACTIVITY_APPLICABLES)}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ls-container"},[e("div",{staticClass:"ls-top"},[e("backend-top")],1),this._v(" "),e("div",{staticClass:"ls-content"},[e("div",{staticClass:"ls-left"},[e("backend-menu")],1),this._v(" "),e("div",{staticClass:"ls-main"},[e("div",{staticStyle:{"padding-top":"20px","padding-left":"20px","padding-right":"20px","box-sizing":"border-box"}},[e("router-view")],1)])])])},staticRenderFns:[]};var f=n("VU/8")(d,h,!1,function(t){n("2g65")},"data-v-4867fc7e",null).exports;o.default.use(l.a);var v=new l.a({mode:"history",saveScrollPosition:"true",routes:[{path:"/",component:function(t){return n.e(0).then(function(){var e=[n("Luci")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/login",component:function(t){return n.e(0).then(function(){var e=[n("Luci")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/activity",component:f,children:[{path:"list",component:function(t){return n.e(2).then(function(){var e=[n("Pvz1")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"add",component:function(t){return n.e(4).then(function(){var e=[n("70YF")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"edit",component:function(t){return n.e(5).then(function(){var e=[n("A7xX")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/pdd",component:f,children:[{path:"cat/goods",component:function(t){return n.e(1).then(function(){var e=[n("XwZp")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"orders",component:function(t){return n.e(3).then(function(){var e=[n("M7eE")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}]}),m=n("bOdI"),g=n.n(m),C={state:{isCollapse:!1},getters:{isCollapse:function(t){return t.isCollapse}},mutations:{toggleState:function(t){t.isCollapse=!t.isCollapse}},actions:{toggleState:function(t){(0,t.commit)("toggleState")}}},y="ACCESS_TOKEN",_="ACTIVITY_TYPES",T="ACTIVITY_APPLICABLES",b=n("//Fk"),S=n.n(b),I=n("mtWM"),A=n.n(I),$=n("pFkg"),k=n.n($),E=this;function w(t){return Object(a.Message)({showClose:!0,message:t,type:"error",duration:3500})}A.a.interceptors.request.use(function(t){t.baseURL=k.a.SITE_URL+"/api/",t.withCredentials=!0,t.timeout=6e3;var e=localStorage.getItem("accessToken");return e&&(t.headers={Authorization:"Bearer "+e,"Content-Type":"application/json"}),t},function(t){S.a.reject(t)}),A.a.interceptors.response.use(function(t){var e=t.data;switch(e.statusCode){case"200":case"301":case"304":break;case"401":w("请重新登录"),localStorage.setItem("accessToken",""),E.$router.push("/login");break;default:w(e.statusCode)}return t.data},function(t){return w("服务器响应失败"),localStorage.setItem("accessToken",""),E.$router.push("/login"),S.a.reject(t)});var x,P,L=A.a,Y={state:{activityTypes:[],activityApplicables:[]},getters:{activityTypes:function(t){return t.activityTypes},activityApplicables:function(t){return t.activityApplicables}},mutations:(x={},g()(x,_,function(t,e){t.activityTypes=e}),g()(x,T,function(t,e){t.activityApplicables=e}),x),actions:(P={},g()(P,_,function(t){var e=t.commit;L.get("/admin/activity/types").then(function(t){console.log("types:",t),e(_,t.data.types)}).catch(function(t){console.log(t)})}),g()(P,T,function(t){var e=t.commit;L.get("/admin/activity/applicables").then(function(t){console.log("types:",t),e(T,t.data.applicables)}).catch(function(t){console.log(t)})}),P)};o.default.use(c.a);var F=new c.a.Store({state:{accessToken:""},mutations:g()({},y,function(t,e){t.accessToken=e,localStorage.setItem("accessToken",e)}),getters:{accessToken:function(t){return localStorage.getItem("accessToken")}},modules:{system:C,activity:Y}}),N={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var O=n("VU/8")({},N,!1,function(t){n("yKN9")},null,null).exports;v.beforeEach(function(t,e,n){localStorage.getItem("accessToken")||"/login"==t.path?"/login"==t.path?(localStorage.setItem("accessToken",""),n()):n():n("/login")});var R=n("pFYg"),U=n.n(R),V=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var M={install:function(t,e){t.prototype.routerLink=function(){var t={},e=arguments[0]?arguments[0]:null;t.type=arguments[1]?arguments[1]:null,t.id=arguments[2]?arguments[2]:0,t.noce_str=function(t){for(var e="",n=0;n<t;n++){var s=Math.ceil(35*Math.random());e+=V[s]}return e}(7);var n=arguments[3]?arguments[3]:null;if(null!=n){if("object"!=(void 0===n?"undefined":U()(n)))throw new Exception("路由链接函数第四个参数只支持object类型");for(var s in n)t[s]=n[s]}v.push({path:e,query:t})},t.prototype.successMessage=function(t){this.$message({showClose:!0,message:t,type:"success",duration:1e3})},t.prototype.errorMessage=function(t){this.$message({showClose:!0,message:t,type:"error",duration:2500})},t.prototype.$getUrl=function(){},t.prototype.$reset=function(){window.location.reload()},t.prototype.$getNowDate=function(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return e>=1&&e<=9&&(e="0"+e),n>=0&&n<=9&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n}}};window.$=n("7t+N"),o.default.config.productionTip=!1,o.default.use(i.a),o.default.use(c.a),o.default.use(M),o.default.prototype.$http=L,o.default.prototype.$types=s,new o.default({el:"#app",router:v,store:F,components:{App:O},template:"<App/>"})},UBeP:function(t,e){},l4CH:function(t,e){},pFkg:function(t,e,n){"use strict";t.exports={SITE_URL:"http://127.0.0.1:8000"}},tvR6:function(t,e){},yKN9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e69c598872461ea96149.js.map