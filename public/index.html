<!DOCTYPE html>
<html lang="en"  style="height: 100%">
<head>
    <meta charset="UTF-8">
    <title>Map</title>
    <style>
        body{
            position: relative;
            font-family: "Microsoft YaHei UI";
        }
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        ul,li{
            list-style: none;
        }
        .clear:after{
            display: block;
            content: "";
            clear:both;
        }
        #chart{
            width: 99%;
            height: 80%;
        }
        #timeSpan{
            margin-top: 2%;
        }
        #timeSpan>li{
            float: left;
            width: 100px;
            height: 20px;
            border-radius: 5px;
            background-color: blue;
            text-align: center;
            cursor: pointer;
            margin-left: 50px;
            color: #fff;
        }
    </style>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body style="height: 100%; margin: 0;min-width: 1200px;min-height: 770px">
<div id="chart"></div>
<script>
    $(function () {
        var onDuty = [{"value":["09/21",32460000]},{"value":["09/22",33000000]},{"value":["09/23",31200000]},{"value":["09/24",31800000]},{"value":["09/25",32100000]},{"value":["09/26",30240000]},{"value":["09/27",31800000]},{"value":["09/28",31800000]}]
        var offDuty = [{"value":["09/21",68400000]},{"value":["09/22",75600000]},{"value":["09/23",70800000]},{"value":["09/24",79200000]},{"value":["09/25",81000000]},{"value":["09/26",77400000]},{"value":["09/27",75600000]},{"value":["09/28",75600000]}]

        var chart = echarts.init(document.getElementById("chart"));
        let anyDate = '2020/9/28 00:00:00'
        var option = {
            grid:{
                x:'3.6%',
                y:'5%',
                x2:'2.4%',
                y2:'12%',
            },
            yAxis:{
                interval: 1800000,
                min: 8 * 60 * 60 * 1000,
                axisLabel:{
                    formatter:function(a){
                        let now = new Date(new Date(anyDate).getTime() + a)
                        return now.getHours() + now.toLocaleTimeString().substr(-6,3)
                    }
                }
            },
            xAxis:{
                type:'category',
                boundaryGap: false
            },
            tooltip:{
                trigger: 'axis',
                axisPointer: {
                    type: 'none',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                },
                formatter(params){
                    let result = []
                    params.forEach(function(item) {
                        let now = new Date(new Date(anyDate).getTime() + item.value[1])
                        let str = ''
                        let x =  now.getHours() + now.toLocaleTimeString().substr(-6,3)
                        str += '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + item.color + '"></span>';
                        str += '<span style="font-size: 10px;">'+item.value[0] + item.seriesName + ":" + x + '</span>'
                        result.push(str)
                    });
                    return result.join('<br>')
                }
            },
            series:[
                {
                    name: '上班',
                    type: 'line',
                    showSymbol: true,
                    symbolSize:12,
                    stack: '上班',
                    data: onDuty,
                },
                {
                    name: '下班',
                    type: 'line',
                    showSymbol: true,
                    symbolSize:12,
                    stack: '下班',
                    data: offDuty,
                },

            ]
        };

        chart.setOption(option);
    }());

</script>
<!--https://blog.csdn.net/zouhaodong/article/details/80974837-->
</body>
</html>