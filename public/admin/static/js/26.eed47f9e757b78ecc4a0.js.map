{"version":3,"sources":["webpack:///src/pages/sniper/employee/basic/department.vue","webpack:///./src/pages/sniper/employee/basic/department.vue?cd25","webpack:///./src/pages/sniper/employee/basic/department.vue"],"names":["department","components","DepartmentTree","TreeSelect","vue_treeselect_cjs_default","a","data","updated","departments","departmentsTree","form","id","name","parent_id","manager","computed","showForm","methods","saveDepartment","_this","this","_asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","api","sniperSaveDepartment","sent","abrupt","stop","remove","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","_callee2","_context2","sniperDeleteDepartment","hasError","showMessage","Math","random","edit","assignForm","save","_this3","_callee3","_context3","error","normalizer","node","label","children","handleNodeClick","console","log","performTreeLoaded","departmentDetail","add","$router","push","getDepartmentsTree","_this4","_callee4","root","_context4","sniperGetDepartmentsTreeSelect","Object","values","removeEmptyChildren","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","value","err","return","mounted","_this5","_callee5","_context5","basic_department","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","_v","attrs","on","nodeClick","treeLoaded","_s","hasOwnProperty","size","click","_e","ref","staticStyle","width","overflow-y","model","label-width","callback","$$v","$set","multiple","options","default-expand-level","margin-top","content-position","_l","index","key","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.eed47f9e757b78ecc4a0.js","sourcesContent":["<template>\r\n\t<div class=\"l-department-list\">\r\n        <div v-title=\"'部门管理'\"></div>\r\n        <!--:selectedKey=\"2\"-->\r\n        <department-tree class=\"l-tree\" @nodeClick=\"handleNodeClick\" @treeLoaded=\"performTreeLoaded\" :updated=\"updated\"></department-tree>\r\n        <div class=\"l-block\">\r\n            <div class=\"l-block-header\">\r\n                <div class=\"l-flex\">\r\n                    <!--<span>员工系统 / 部门管理</span>-->\r\n                    <span><i class=\"iconfont\">&#xe69a;</i> {{department.hasOwnProperty('name') ? department.name : ''}}</span>\r\n                    <el-button-group>\r\n                    <el-button v-permission=\"'hr add departments'\" v-if=\"showForm\" type=\"primary\" @click=\"save\" size=\"small\">保存</el-button>\r\n                    <el-button v-permission=\"'hr edit departments'\" v-if=\"!showForm\" type=\"primary\" @click=\"edit\" size=\"small\">编辑</el-button>\r\n                    <el-button v-permission=\"'hr delete departments'\" type=\"danger\" @click=\"remove\" size=\"small\">删除</el-button>\r\n                    <el-button v-permission=\"'hr add departments'\" type=\"success\" @click=\"add\" size=\"small\"><i class=\"iconfont\">&#xe663;</i>新增</el-button>\r\n                    </el-button-group>\r\n                </div>\r\n            </div>\r\n            <div class=\"l-block-body\">\r\n                <div v-if=\"showForm\">\r\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" style=\"width: 50%;overflow-y: visible\">\r\n                        <el-form-item label=\"部门名称\">\r\n                            <el-input v-model=\"form.name\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"上级部门\">\r\n                            <tree-select v-model=\"form.parent_id\" :multiple=\"false\" :options=\"departments\"  :default-expand-level=\"10\" :normalizer=\"normalizer\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"经    理\">\r\n                            <el-input v-model=\"form.manager\"></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </div>\r\n                <div v-if=\"department.children && department.children.length\" style=\"margin-top: 20px;\">\r\n                    <el-divider content-position=\"left\">直属部门</el-divider>\r\n                    <div class=\"l-department-wrap\">\r\n                        <div class=\"l-department\" v-for=\"(department, index) in department.children\" @click=\"departmentDetail(department)\" :key=\"index\">\r\n                            <h1 class=\"l-title\">{{department.name}}</h1>\r\n                            <article class=\"l-employee-count\">\r\n                                <!--<b>2</b> 人-->\r\n                                <!--<i class=\"iconfont\">&#xe69a;</i>-->\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n<script>\r\n    import DepartmentTree from \"../components/DepartmentTree\"\r\n    import TreeSelect from '@riophae/vue-treeselect'\r\n    import api from \"@/api/index\"\r\n    import '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\n\texport default {\r\n        components: { DepartmentTree, TreeSelect },\r\n        data(){\r\n            return {\r\n                updated: 0,\r\n                department: {},\r\n                departments:[],\r\n                departmentsTree:[],\r\n                form: {\r\n                    id: '',\r\n                    name: '',\r\n                    parent_id: null,\r\n                    manager: '',\r\n                },\r\n            }\r\n        },\r\n        computed:{\r\n            showForm(){\r\n                return true;//!(this.department.children && this.department.children.length)\r\n            }\r\n        },\r\n        methods:{\r\n            async saveDepartment(){\r\n                let res = await api.sniperSaveDepartment(this.form)\r\n                return res\r\n            },\r\n            remove(){\r\n                let id = this.department.id\r\n                this.$confirm('确定删除部门?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(async () => {\r\n                    let res = await api.sniperDeleteDepartment({id})\r\n                    if(!res.hasError){\r\n                        this.showMessage('删除成功！', 'success')\r\n                        this.updated = Math.random()\r\n                    }\r\n                });\r\n            },\r\n            edit(){\r\n                this.assignForm(this.department)\r\n            },\r\n            async save(){\r\n                let res = await this.saveDepartment()\r\n                if(res.hasError){\r\n                    this.showMessage(res.error)\r\n                }else{\r\n                    this.showMessage('更新成功！', 'success')\r\n                   this.updated = Math.random()//Math.floor(Math.random() * 999999)\r\n                }\r\n            },\r\n            assignForm(department){\r\n                this.form.id = department.id\r\n                this.form.name = department.name\r\n                this.form.parent_id = department.parent_id\r\n                this.form.manager = department.manager\r\n            },\r\n            //tree select 节点数据适应\r\n            normalizer(node) {\r\n                return {\r\n                    id: node.id,\r\n                    label: node.name,\r\n                    children: node.children,\r\n                }\r\n            },\r\n            handleNodeClick(node){\r\n                this.department = node\r\n                this.assignForm(node)\r\n                console.log(node)\r\n            },\r\n            performTreeLoaded(department){\r\n                this.department = department\r\n                this.assignForm(department)\r\n            },\r\n            departmentDetail(department){\r\n                this.department = department\r\n                this.assignForm(department)\r\n                //this.$router.push('/sniper/employee/department/detail?id='+id)\r\n            },\r\n            add(){\r\n                let {id} = this.department\r\n                this.$router.push('/sniper/employee/department/edit?parent_id='+id)\r\n            },\r\n            async getDepartmentsTree(){\r\n                this.departments = []\r\n                let res = await api.sniperGetDepartmentsTreeSelect()\r\n                let root = Object.values(res.data)[0]\r\n                //处理数据 适应TreeSelect组件\r\n                const removeEmptyChildren = function(data){\r\n                    if(!data.children.length){\r\n                        data.children = undefined\r\n                    }else{\r\n                        for(let child of data.children){\r\n                            removeEmptyChildren(child)\r\n                        }\r\n                    }\r\n                }\r\n                if(root){\r\n                    removeEmptyChildren(root)\r\n                    this.departments = [root]\r\n                }\r\n            },\r\n        },\r\n        async mounted(){\r\n            await this.getDepartmentsTree()\r\n        }\r\n\t}\r\n</script>\r\n<style scoped lang=\"less\">\r\n    .l-department-list{\r\n        display: flex;\r\n        flex-flow: row nowrap;\r\n        min-height: calc(100vh - 50px - 20px);\r\n        margin:-20px 0 -20px -20px;\r\n        overflow-x: hidden;\r\n        .l-tree{\r\n            flex-shrink: 0;\r\n            padding: 10px 20px;\r\n            border-right: 1px solid #f4f4f4;\r\n            overflow-y: auto;\r\n            width: 280px;\r\n        }\r\n    }\r\n    .l-block{\r\n        flex-shrink: 20;\r\n        padding-left: 20px;\r\n        width: 1800px;\r\n    }\r\n    .l-department-wrap{\r\n        display: flex;\r\n        flex-flow: row wrap;\r\n        justify-content: flex-start;\r\n        .l-department{\r\n            position: relative;\r\n            box-shadow: #67C23A;\r\n            height: 80px;\r\n            border:1px solid #f1f1f1;\r\n            width: 200px;\r\n            margin: 20px 30px 0 0;\r\n            border-radius: 2px;\r\n            cursor: pointer;\r\n            background: #F2F8FE;\r\n            &:hover{\r\n                box-shadow: 3px 3px 6px #FAFAFA;\r\n                background: #fcf8e3;\r\n                h1{\r\n                    color: #888;\r\n                }\r\n            }\r\n            h1{\r\n                font-size: 14px;\r\n                color: #888;\r\n                padding: 10px 0 0 10px;\r\n                font-weight: bold;\r\n                font-weight: lighter;\r\n            }\r\n            .l-employee-count{\r\n                color: #555;\r\n                position: absolute;\r\n                bottom: 10px;\r\n                left: 10px;\r\n                font-size: 14px;\r\n            }\r\n        }\r\n    }\r\n    @media screen and (max-width: 1500px) {\r\n        .l-department-wrap{\r\n            .l-department{\r\n                width: 192px;\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/sniper/employee/basic/department.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-department-list\"},[_c('div',{directives:[{name:\"title\",rawName:\"v-title\",value:('部门管理'),expression:\"'部门管理'\"}]}),_vm._v(\" \"),_c('department-tree',{staticClass:\"l-tree\",attrs:{\"updated\":_vm.updated},on:{\"nodeClick\":_vm.handleNodeClick,\"treeLoaded\":_vm.performTreeLoaded}}),_vm._v(\" \"),_c('div',{staticClass:\"l-block\"},[_c('div',{staticClass:\"l-block-header\"},[_c('div',{staticClass:\"l-flex\"},[_c('span',[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"+_vm._s(_vm.department.hasOwnProperty('name') ? _vm.department.name : ''))]),_vm._v(\" \"),_c('el-button-group',[(_vm.showForm)?_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('hr add departments'),expression:\"'hr add departments'\"}],attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(!_vm.showForm)?_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('hr edit departments'),expression:\"'hr edit departments'\"}],attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.edit}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('hr delete departments'),expression:\"'hr delete departments'\"}],attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.remove}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('hr add departments'),expression:\"'hr add departments'\"}],attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.add}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"新增\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"l-block-body\"},[(_vm.showForm)?_c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"50%\",\"overflow-y\":\"visible\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"部门名称\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级部门\"}},[_c('tree-select',{attrs:{\"multiple\":false,\"options\":_vm.departments,\"default-expand-level\":10,\"normalizer\":_vm.normalizer},model:{value:(_vm.form.parent_id),callback:function ($$v) {_vm.$set(_vm.form, \"parent_id\", $$v)},expression:\"form.parent_id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"经    理\"}},[_c('el-input',{model:{value:(_vm.form.manager),callback:function ($$v) {_vm.$set(_vm.form, \"manager\", $$v)},expression:\"form.manager\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.department.children && _vm.department.children.length)?_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"直属部门\")]),_vm._v(\" \"),_c('div',{staticClass:\"l-department-wrap\"},_vm._l((_vm.department.children),function(department,index){return _c('div',{key:index,staticClass:\"l-department\",on:{\"click\":function($event){return _vm.departmentDetail(department)}}},[_c('h1',{staticClass:\"l-title\"},[_vm._v(_vm._s(department.name))]),_vm._v(\" \"),_c('article',{staticClass:\"l-employee-count\"})])}),0)],1):_vm._e()])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21150ca0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/sniper/employee/basic/department.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21150ca0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./department.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./department.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./department.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21150ca0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./department.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21150ca0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/sniper/employee/basic/department.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}