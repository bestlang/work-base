webpackJsonp([10],{EfIN:function(e,t){},Luci:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),o=s.n(a),r=s("exGp"),i=s.n(r),n={data:function(){return{loading:!1,loginFont:"Login",params:{mobile:"18625072568",password:""}}},computed:{appName:function(){return this.$store.getters.appName},accessToken:function(){return this.$store.getters.accessToken}},watch:{accessToken:function(e){console.log("access token from store:",e)}},methods:{requireMobile:function(){""==this.params.mobile?$("#mobile").addClass("error").text("input mobile"):$("#mobile").removeClass("error").text(" ")},requirePassword:function(){""==this.params.password?$("#password").addClass("error").text("input password"):$("#password").removeClass("error").text(" ")},changePassword:function(){$("#password").removeClass("error").text("")},login:function(){var e,t=this;this.params.mobile&&this.params.password?(this.loading=!0,this.loginFont="logining...",this.$http.post("auth/login",this.params).then((e=i()(o.a.mark(function e(s){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200!=s.code){e.next=7;break}return t.$store.commit(t.$types.ACCESS_TOKEN,s.data.access_token),t.$store.commit(t.$types.USER,s.data.user),e.next=5,t.$http.get("/admin/privileges/user/permissions");case 5:e.sent,t.$router.push("/dashboard");case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(e){console.log(e),t.restInfo()})):(this.requireMobile(),this.requirePassword())},restInfo:function(){this.loading=!1,this.loginFont="Login",this.params.password=""}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{directives:[{name:"title",rawName:"v-title",value:"登录",expression:"'登录'"}]}),e._v(" "),s("div",{staticClass:"login-inner"},[s("div",{staticStyle:{width:"100vw",height:"100vh"}},[s("el-row",{staticClass:"login-inner-box"},[s("el-col",{staticClass:"login-form",attrs:{span:8,offset:8}},[s("div",{staticStyle:{"text-align":"center","font-size":"36px","padding-bottom":"40px"}},[e._v(e._s(e.appName))]),e._v(" "),s("div",{staticClass:"val user-after"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.params.mobile,expression:"params.mobile"}],staticClass:"login-input user",attrs:{type:"text",autocomplete:"off",placeholder:"mobile"},domProps:{value:e.params.mobile},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||e.$set(e.params,"mobile",t.target.value)}}}),e._v(" "),s("label",{attrs:{id:"mobile"}})]),e._v(" "),s("div",{staticClass:"val password-after"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.params.password,expression:"params.password"}],staticClass:"login-input user",attrs:{type:"password",autocomplete:"new-password",placeholder:"password"},domProps:{value:e.params.password},on:{blur:e.requirePassword,keydown:e.requirePassword,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||e.$set(e.params,"password",t.target.value)}}}),e._v(" "),s("label",{attrs:{id:"password"}})]),e._v(" "),s("el-button",{staticClass:"login-input login-btn",attrs:{loading:e.loading,type:"primary",id:"login"},on:{click:e.login}},[e._v(e._s(e.loginFont))])],1)],1)],1)])])},staticRenderFns:[]};var p=s("VU/8")(n,l,!1,function(e){s("EfIN")},"data-v-46fecca5",null);t.default=p.exports}});
//# sourceMappingURL=10.c4ad9b1daf36342d9455.js.map