webpackJsonp([4],{PaIR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"l-top-menu"},[a("div",[a("router-link",{attrs:{to:"/cms/setting/model/add"}},[a("el-button",{attrs:{type:"primary"}},[t._v("新增")])],1)],1),t._v(" "),a("div")]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"channel_template_prefix",label:"栏目模板前缀"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content_template_prefix",label:"内容模板前缀"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加类型",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类型","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")({data:function(){return{loading:!0,tableData:[],dialogFormVisible:!1,form:{name:"",type:""}}},methods:{handleEdit:function(t){this.$router.push("/cms/setting/model/edit/"+t.id)},add:function(){this.$router.push("/cms/setting/model/add")},submit:function(){var t=this;this.$http.post("/admin/cms/model/field/type/add",this.form).then(function(e){e.success?(t.loading=!0,t.loadTypes(),t.dialogFormVisible=!1,t.$message({message:"添加成功!",type:"success"})):t.$message({message:e.error,type:"warning"})})},loadTypes:function(){var t=this;this.$http.get("/admin/cms/model").then(function(e){t.loading=!1,t.tableData=e.data})}},created:function(){this.loadTypes()}},l,!1,function(t){a("icj1")},"data-v-fc73e3b6",null);e.default=o.exports},icj1:function(t,e){}});
//# sourceMappingURL=4.7ab0eec9df985fb93d4b.js.map