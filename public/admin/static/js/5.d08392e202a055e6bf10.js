webpackJsonp([5],{"3NvJ":function(s,e){},Luci:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{loading:!1,loginFont:"登 录",params:{mobile:"18625072568",password:"111111"}}},computed:{accessToken:function(){return this.$store.getters.accessToken}},watch:{accessToken:function(s){console.log("access token from store:",s)}},methods:{requireEmail:function(){""==this.params.email?$("#email").addClass("error").text("请填写用户名"):$("#email").removeClass("error").text(" ")},requirePassword:function(){""==this.params.password?($("#password").addClass("error").text("请填写密码"),$("#login").css("background","#ebcd41")):($("#password").removeClass("error").text(" "),$("#login").css("background","#fee300"))},changePassword:function(){$("#password").removeClass("error").text("")},login:function(){var s=this;console.log(this.params),""==this.params.email||""==this.params.password?(this.requireEmail(),this.requirePassword()):(this.loading=!0,this.loginFont="正在登录...",this.$http.post("auth/login",this.params).then(function(e){200==e.code?(s.$store.commit(s.$types.ACCESS_TOKEN,e.data.access_token),s.$router.push("/dashboard")):401==e.code&&s.restInfo()}).catch(function(e){console.log(e),s.restInfo()}))},restInfo:function(){this.loading=!1,this.loginFont="login",this.params.password=""}}},o={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-inner-box"},[t("canvas",{staticClass:"art-canvas",attrs:{id:"root",width:"1000",height:"560"}}),s._v(" "),t("div",{staticClass:"login-form"},[t("div",{staticStyle:{"text-align":"center",color:"#fff","font-size":"36px","padding-bottom":"40px"}},[s._v("路章's博客")]),s._v(" "),t("div",{staticClass:"val user-after"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.params.mobile,expression:"params.mobile"}],staticClass:"login-input user",attrs:{type:"text",autocomplete:"off",placeholder:"mobile"},domProps:{value:s.params.mobile},on:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.login(e)},input:function(e){e.target.composing||s.$set(s.params,"mobile",e.target.value)}}}),s._v(" "),t("label",{attrs:{id:"email"}})]),s._v(" "),t("div",{staticClass:"val password-after"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.params.password,expression:"params.password"}],staticClass:"login-input user",attrs:{type:"password",autocomplete:"new-password",placeholder:"password"},domProps:{value:s.params.password},on:{blur:s.requirePassword,keydown:s.requirePassword,keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.login(e)},input:function(e){e.target.composing||s.$set(s.params,"password",e.target.value)}}}),s._v(" "),t("label",{attrs:{id:"password"}})]),s._v(" "),t("el-button",{staticClass:"login-input login-btn",attrs:{loading:s.loading,id:"login"},on:{click:s.login}},[s._v(s._s(s.loginFont))])],1)])])},staticRenderFns:[]};var r=t("VU/8")(a,o,!1,function(s){t("3NvJ")},"data-v-d0ccfe7c",null);e.default=r.exports}});
//# sourceMappingURL=5.d08392e202a055e6bf10.js.map