{"version":3,"sources":["webpack:///src/pages/privileges/users.vue","webpack:///./src/pages/privileges/users.vue?4b5d","webpack:///./src/pages/privileges/users.vue"],"names":["users","data","total","params","page","page_size","tableData","formVisible","roles","formTitle","form","id","name","email","mobile","password","confirm_password","components","pager","watch","val","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","getRoles","stop","methods","assignForm","arguments","length","undefined","map","role","addUser","editUser","row","handleSubmit","_this2","_callee2","res","msg","_context2","api","updateUser","sent","createUser","hasError","showMessage","error","success","loadUsers","_this3","_callee3","_ref","_context3","_this4","_callee4","_ref2","_context4","getUsers","currentChange","_this5","_callee5","_context5","mounted","_this6","_callee6","_context6","privileges_users","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","_v","attrs","type","size","on","click","staticStyle","width","border","cell-class-name","header-cell-class-name","prop","label","scopedSlots","_u","key","fn","scope","_s","join","effect","content","placement","white","fixed","$event","page-size","current-change","title","visible","close-on-click-modal","update:visible","model","label-width","autocomplete","callback","$$v","$set","_l","content-position","_e","hasOwnProperty","placeholder","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.83649771b2a164f1bc4a.js","sourcesContent":["<template>\r\n    <div class=\"l-block\">\r\n        <div v-title=\"'用户管理'\"></div>\r\n        <div class=\"l-block-header\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"addUser\"><i class=\"iconfont\">&#xe641;</i> 添加</el-button>\r\n        </div>\r\n        <div class=\"l-block-body\">\r\n            <el-table\r\n                    border\r\n                    :data=\"tableData\"\r\n                    cell-class-name=\"cell-class\"\r\n                    header-cell-class-name=\"cell-class\"\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"ID\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"用户昵称\"\r\n                        width=\"240\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"email\"\r\n                        label=\"邮箱\"\r\n                        width=\"300\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"mobile\"\r\n                        label=\"手机\"\r\n                        width=\"160\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"角色\"\r\n                        width=\"260\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.roles.map((role) => {return role.name}).join(',')}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"白名单\">\r\n                    <template slot=\"header\" slot-scope=\"scope\">\r\n                        <el-tooltip class='item' effect='dark' content='拥有所有权限' placement='top-start'>\r\n                            <div>白名单<i class=\"iconfont\">&#xe67d;</i></div>\r\n\r\n                        </el-tooltip>\r\n                    </template>\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.white ? '是':''}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed=\"right\"\r\n                        label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button class=\"l-inline-btn l-lighter\" @click=\"editUser(scope.row)\" type=\"text\" size=\"medium\">\r\n                            <i class=\"iconfont\">&#xe618;</i>编辑\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <pager :total=\"total\" :page-size=\"params.page_size\" @current-change=\"currentChange\"></pager>\r\n        </div>\r\n        <div class=\"l-delimiter\"></div>\r\n        <el-dialog :title=\"formTitle\" :visible.sync=\"formVisible\" :close-on-click-modal=\"false\">\r\n            <el-form :model=\"form\" label-width=\"80px\">\r\n                <el-form-item label=\"昵称\">\r\n                    <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号\">\r\n                    <el-input v-model=\"form.mobile\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\">\r\n                    <el-input v-model=\"form.email\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色\">\r\n                    <el-checkbox-group v-model=\"form.roles\">\r\n                        <el-checkbox v-for=\"role in roles\" :label=\"role.name\"></el-checkbox>\r\n                    </el-checkbox-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"\">\r\n                    <el-divider content-position=\"left\" v-if=\"form.id\" class=\"l-inline-notes\">不修改密码请留空</el-divider>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" v-if=\"form.hasOwnProperty('password')\">\r\n                    <el-input v-model=\"form.password\" autocomplete=\"new-password\" placeholder=\"输入密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"重复密码\" v-if=\"form.hasOwnProperty('confirm_password')\">\r\n                    <el-input v-model=\"form.confirm_password\" autocomplete=\"new-password\" placeholder=\"输入密码\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"formVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import api from '../../api/index'\r\n    import pager from \"@/components/pager\"\r\n    export default {\r\n        data() {\r\n            return {\r\n                total: 0,\r\n                params:{\r\n                    page: 1,\r\n                    page_size: 15\r\n                },\r\n                tableData: [],\r\n                formVisible: false,\r\n                roles:[],\r\n                formTitle: '',\r\n                form: {\r\n                    id: null,\r\n                    name: null,\r\n                    email: null,\r\n                    mobile: null,\r\n                    password: null,\r\n                    confirm_password: null,\r\n                    roles: []\r\n                }\r\n            }\r\n        },\r\n        components:{\r\n            pager\r\n        },\r\n        watch: {\r\n            async formVisible(val){\r\n                if(val){\r\n                    await this.getRoles()\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            assignForm(data={}){\r\n                this.form.id = data.id ? data.id : null\r\n                this.form.name = data.name ? data.name : null\r\n                this.form.email = data.email ? data.email : null\r\n                this.form.mobile = data.mobile ? data.mobile : null\r\n                this.form.roles = data.roles ? data.roles.map((role) => {return role.name}) : []\r\n                this.form.password = null\r\n                this.form.confirm_password = null\r\n            },\r\n            addUser(){\r\n                this.assignForm()\r\n                this.formTitle = '添加用户'\r\n                this.formVisible = true\r\n            },\r\n            editUser(row){\r\n                this.formTitle = '编辑用户'\r\n                this.formVisible = true\r\n                this.assignForm(row)\r\n            },\r\n            async handleSubmit(){\r\n                let res = {}\r\n                if(this.form.id){\r\n                    res = await api.updateUser(this.form)\r\n                }else{\r\n                    res = await api.createUser(this.form)\r\n                }\r\n                if(res.hasError){\r\n                    this.showMessage(res.error, 'warning')\r\n                }else{\r\n                    let msg = this.form.id ? '更新成功' : '新增成功'\r\n                    this.showMessage(msg, 'success')\r\n                }\r\n                if(res.success){\r\n                    this.formVisible = false;\r\n                    await this.loadUsers();\r\n                }\r\n            },\r\n            async getRoles(){\r\n                let {data} = await api.getRoles()\r\n                this.roles = data\r\n            },\r\n            async loadUsers(){\r\n                let {data} = await api.getUsers(this.params)\r\n                this.tableData = data.users\r\n                this.total = data.total\r\n            },\r\n            async currentChange(page){\r\n                this.params.page = page\r\n                this.loadUsers()\r\n            }\r\n        },\r\n        async mounted() {\r\n            await this.loadUsers()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-dialog{width: 40%;}\r\n    .l-inline-notes /deep/ .el-divider__text{\r\n        color: #606266;\r\n        font-weight: normal\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/privileges/users.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-block\"},[_c('div',{directives:[{name:\"title\",rawName:\"v-title\",value:('用户管理'),expression:\"'用户管理'\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"l-block-header\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addUser}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" 添加\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"l-block-body\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.tableData,\"cell-class-name\":\"cell-class\",\"header-cell-class-name\":\"cell-class\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用户昵称\",\"width\":\"240\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"手机\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色\",\"width\":\"260\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                    \"+_vm._s(scope.row.roles.map(function (role) {return role.name}).join(','))+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"白名单\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"拥有所有权限\",\"placement\":\"top-start\"}},[_c('div',[_vm._v(\"白名单\"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                    \"+_vm._s(scope.row.white ? '是':'')+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"l-inline-btn l-lighter\",attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.editUser(scope.row)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"编辑\\n                    \")])]}}])})],1),_vm._v(\" \"),_c('pager',{attrs:{\"total\":_vm.total,\"page-size\":_vm.params.page_size},on:{\"current-change\":_vm.currentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"l-delimiter\"}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formTitle,\"visible\":_vm.formVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.roles),callback:function ($$v) {_vm.$set(_vm.form, \"roles\", $$v)},expression:\"form.roles\"}},_vm._l((_vm.roles),function(role){return _c('el-checkbox',{attrs:{\"label\":role.name}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[(_vm.form.id)?_c('el-divider',{staticClass:\"l-inline-notes\",attrs:{\"content-position\":\"left\"}},[_vm._v(\"不修改密码请留空\")]):_vm._e()],1),_vm._v(\" \"),(_vm.form.hasOwnProperty('password'))?_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"autocomplete\":\"new-password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.hasOwnProperty('confirm_password'))?_c('el-form-item',{attrs:{\"label\":\"重复密码\"}},[_c('el-input',{attrs:{\"autocomplete\":\"new-password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.form.confirm_password),callback:function ($$v) {_vm.$set(_vm.form, \"confirm_password\", $$v)},expression:\"form.confirm_password\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.formVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-876cd6c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/privileges/users.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-876cd6c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./users.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-876cd6c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./users.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-876cd6c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/privileges/users.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}