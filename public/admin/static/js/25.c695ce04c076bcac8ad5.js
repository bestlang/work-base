webpackJsonp([25],{ctXr:function(e,r){},wQ3f:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("gRE1"),a=t.n(n),o=t("Xxa5"),i=t.n(o),s=t("exGp"),l=t.n(s),m=t("BO1k"),c=t.n(m),d=t("gyMJ"),u=t("0XjM"),f=t.n(u),p=(t("DmJO"),t("FO7G")),v=function e(r){if(r.children.length){var t=!0,n=!1,a=void 0;try{for(var o,i=c()(r.children);!(t=(o=i.next()).done);t=!0){e(o.value)}}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}}else r.children=void 0},h={components:{TreeSelect:f.a,imageUpload:p.a},data:function(){return{value:null,form:{user_id:0,real_name:"",department_id:null,tag:null,position_id:null,phone:"",work_place:"",gender:0,native_land:"",birthday:"",id_card:"",email:"",password:"111111",school:"",study_duration:"",degree:"",marital:"",mate:"",children:"",emergency:"",emergency_phone:"",avatar:""},departments:[],positions:[]}},watch:{},methods:{assignForm:function(e){this.form.id=e.id,this.form.name=e.name,this.form.department_id=e.department_id,this.form.parent_id=e.parent_id,this.form.desiring=e.desiring,this.form.jd=e.jd},getPositionDetail:function(e){var r=this;return l()(i.a.mark(function t(){var n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.sniperGetPositionDetail({id:e});case 2:n=t.sent,a=n.data,r.assignForm(a);case 5:case"end":return t.stop()}},t,r)}))()},normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},viewPositions:function(){this.$router.push("/basic/position")},save:function(){var e=this;return l()(i.a.mark(function r(){var t;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.sniperSaveEmployee(e.form);case 2:(t=r.sent).hasError?e.showMessage(t.error,"error"):(e.showMessage("添加成功！","success"),e.$router.push("/basic/employee/list"));case 4:case"end":return r.stop()}},r,e)}))()},getDepartments:function(){var e=this;return l()(i.a.mark(function r(){var t,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.sniperGetDepartmentsTreeSelect({});case 2:t=r.sent,n=a()(t.data)[0],v(n),e.departments=[n];case 6:case"end":return r.stop()}},r,e)}))()},getPositions:function(){var e=this;return l()(i.a.mark(function r(){var t,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.sniperGetPositionsTreeSelect({});case 2:t=r.sent,n=a()(t.data)[0],v(n),e.positions=[n];case 6:case"end":return r.stop()}},r,e)}))()},savePosition:function(){var e=this;return l()(i.a.mark(function r(){var t;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.sniperSavePosition(e.form);case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}},r,e)}))()}},mounted:function(){var e=this;return l()(i.a.mark(function r(){var t;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getDepartments();case 2:return r.next=4,e.getPositions();case 4:e.form.id=parseInt(e.$route.query.id)||0,(t=parseInt(e.$route.query.department_id)||0)&&(e.form.department_id=t);case 7:case"end":return r.stop()}},r,e)}))()}},_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{directives:[{name:"title",rawName:"v-title",value:"新增员工",expression:"'新增员工'"}]}),e._v(" "),t("div",{staticClass:"l-block"},[t("div",{staticClass:"l-block-header"},[t("div",{staticClass:"l-flex"},[t("span",[e._v("员工系统  / 添加员工")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("保存")])],1)]),e._v(" "),t("div",{staticClass:"l-block-body"},[t("el-form",{ref:"form",staticStyle:{width:"50%","overflow-y":"visible"},attrs:{model:e.form,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"所属部门"}},[t("tree-select",{attrs:{multiple:!1,options:e.departments,"default-expand-level":10,normalizer:e.normalizer},model:{value:e.form.department_id,callback:function(r){e.$set(e.form,"department_id",r)},expression:"form.department_id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"职位"}},[t("tree-select",{attrs:{multiple:!1,options:e.positions,"default-expand-level":10,normalizer:e.normalizer},model:{value:e.form.position_id,callback:function(r){e.$set(e.form,"position_id",r)},expression:"form.position_id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"真实姓名"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"性别"}},[t("div",[t("el-radio",{attrs:{label:"1",border:""},model:{value:e.form.gender,callback:function(r){e.$set(e.form,"gender",r)},expression:"form.gender"}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:"2",border:""},model:{value:e.form.gender,callback:function(r){e.$set(e.form,"gender",r)},expression:"form.gender"}},[e._v("女")])],1)]),e._v(" "),t("el-form-item",{attrs:{label:"头像"}},[t("image-upload",{model:{value:e.form.avatar,callback:function(r){e.$set(e.form,"avatar",r)},expression:"form.avatar"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号"}},[t("el-input",{model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号"}},[t("el-input",{model:{value:e.form.id_card,callback:function(r){e.$set(e.form,"id_card",r)},expression:"form.id_card"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司邮箱"}},[t("el-input",{model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"初始密码"}},[t("el-input",{attrs:{type:"password","auto-complete":"new-password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"紧急联系人"}},[t("el-input",{model:{value:e.form.emergency,callback:function(r){e.$set(e.form,"emergency",r)},expression:"form.emergency"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"紧急联系人电话"}},[t("el-input",{model:{value:e.form.emergency_phone,callback:function(r){e.$set(e.form,"emergency_phone",r)},expression:"form.emergency_phone"}})],1)],1)],1)])])},staticRenderFns:[]};var b=t("VU/8")(h,_,!1,function(e){t("ctXr")},"data-v-206eecbe",null);r.default=b.exports}});
//# sourceMappingURL=25.c695ce04c076bcac8ad5.js.map