{"version":3,"sources":["webpack:///src/pages/cms/components/addOptions.vue","webpack:///./src/pages/cms/components/addOptions.vue?ea07","webpack:///./src/pages/cms/components/addOptions.vue","webpack:///src/pages/cms/setting/modelAdd.vue","webpack:///./src/pages/cms/setting/modelAdd.vue?81be","webpack:///./src/pages/cms/setting/modelAdd.vue"],"names":["addOptions","props","options","type","Array","default","name","value","data","methods","plus","this","push","minus","idx","splice","watch","deep","handler","val","$emit","components_addOptions","render","_vm","_h","$createElement","_c","_self","_l","option","key","staticStyle","margin-bottom","margin-right","attrs","span","placeholder","model","callback","$$v","$set","expression","_v","staticClass","size","icon","circle","on","click","_e","$event","staticRenderFns","modelAdd","components","add-options","__webpack_require__","normalizeComponent","ssrContext","id","loading","activeName","fields","modelForm","channel_template_prefix","content_template_prefix","fieldTitle","fieldVisible","fieldForm","model_id","field","label","extra","is_channel","is_custom","is_display","is_required","showOptions","defineProperty_default","newValue","oldValue","_this","forEach","item","computed","channelFields","filter","contentFields","handleEdit","row","assign_default","handleDelete","_this2","$confirm","confirmButtonText","cancelButtonText","then","$http","post","res","loadModel","$message","message","catch","beforeLeave","oldActiveName","add","loadFieldTypes","_this3","get","_this4","params","save","_this5","success","doSaveField","_this6","handleClick","tab","event","console","log","handleOptionsChange","mounted","$route","setting_modelAdd","display","flex-flow","to","tag","direction","_s","tab-position","tab-click","ref","label-width","text-align","directives","rawName","border","prop","scopedSlots","_u","fn","scope","title","visible","update:visible","autocomplete","optionsChange","slot","modelAdd_Component","modelAdd_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/1.53897895b96ef8dd9be3.js","sourcesContent":["<template>\n  <el-form>\n    <el-form-item v-for=\"(option, idx) in options\" :key=\"idx\">\n      <el-row style=\"margin-bottom: 10px;\">\n        <el-col :span=\"6\" style=\"margin-right: 5px;\"><el-input placeholder=\"选项名\" v-model=\"option.name\"></el-input></el-col>\n        <el-col :span=\"4\"><el-input placeholder=\"选项值\" v-model=\"option.value\"></el-input></el-col>\n        <el-button class=\"l-plus-minus\" v-if=\"idx == 0\" type=\"primary\" size=\"small\" icon=\"el-icon-plus\" circle @click=\"plus\"></el-button>\n        <el-button class=\"l-plus-minus\" v-if=\"idx != 0\" type=\"primary\" size=\"small\" icon=\"el-icon-minus\" circle @click=\"minus(idx)\"></el-button>\n      </el-row>\n    </el-form-item>\n  </el-form>\n</template>\n<script>\n  export default {\n    props:{\n      options:{\n        type: Array,\n        default:function(){\n          return [{name: '', value: ''}]\n        }\n      }\n    },\n    data(){\n      return {}\n    },\n    methods:{\n      plus(){\n        this.options.push({name: '', value: ''})\n      },\n      minus(idx){\n        this.options.splice(idx, 1);\n      }\n    },\n    watch: {\n      'options': {\n        deep: true,\n        handler(val){\n          this.$emit('optionsChange', val)\n        }\n      }\n    },\n    // created() {\n    //   if(this.initOptions.length>0){\n    //     this.options = this.initOptions\n    //   }else{\n    //     this.options = [{name: '', value:''}]\n    //   }\n    // }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .l-plus-minus{margin-left: 5px;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cms/components/addOptions.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',_vm._l((_vm.options),function(option,idx){return _c('el-form-item',{key:idx},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-col',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"span\":6}},[_c('el-input',{attrs:{\"placeholder\":\"选项名\"},model:{value:(option.name),callback:function ($$v) {_vm.$set(option, \"name\", $$v)},expression:\"option.name\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"placeholder\":\"选项值\"},model:{value:(option.value),callback:function ($$v) {_vm.$set(option, \"value\", $$v)},expression:\"option.value\"}})],1),_vm._v(\" \"),(idx == 0)?_c('el-button',{staticClass:\"l-plus-minus\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":_vm.plus}}):_vm._e(),_vm._v(\" \"),(idx != 0)?_c('el-button',{staticClass:\"l-plus-minus\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-minus\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.minus(idx)}}}):_vm._e()],1)],1)}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36b6655a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cms/components/addOptions.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36b6655a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addOptions.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addOptions.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addOptions.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36b6655a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addOptions.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36b6655a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cms/components/addOptions.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"l-model-add\">\n    <div class=\"top-buttons\" style=\"display: flex;flex-flow: row nowrap;\">\n      <router-link to=\"/cms/setting/model\" tag=\"div\"><span class=\"iconfont\">&#xe601;</span>返回</router-link>\n      <el-divider direction=\"vertical\"></el-divider>\n      <div>{{modelForm.id ? '编辑':'新增'}}模型</div>\n    </div>\n    <div>\n      <el-tabs tab-position=\"left\" v-model=\"activeName\" @tab-click=\"handleClick\">\n        <el-tab-pane label=\"基本信息\" name=\"basic\">\n          <el-form ref=\"form\" :model=\"modelForm\" label-width=\"120px\">\n            <el-form-item label=\"模型名\">\n              <el-input v-model=\"modelForm.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"栏目模板前缀\">\n              <el-input v-model=\"modelForm.channel_template_prefix\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"内容模板前缀\">\n              <el-input v-model=\"modelForm.content_template_prefix\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"save\">保存</el-button>\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n        <el-tab-pane label=\"栏目字段\" name=\"channel\">\n          <div style=\"text-align: left;margin-bottom: 20px;\">\n            <el-button type=\"primary\" @click=\"add('channel')\">添加</el-button>\n          </div>\n          <el-table\n            border\n            v-loading=\"loading\"\n            :data=\"channelFields\">\n            <el-table-column\n              prop=\"id\"\n              label=\"ID\">\n            </el-table-column>\n            <el-table-column\n              prop=\"field\"\n              label=\"字段\">\n            </el-table-column>\n            <el-table-column\n              prop=\"label\"\n              label=\"标签\">\n            </el-table-column>\n            <el-table-column\n              prop=\"type\"\n              label=\"字段类型\">\n            </el-table-column>\n            <el-table-column\n              label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                <el-button type=\"text\" @click=\"handleDelete(scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n        <el-tab-pane label=\"内容字段\" name=\"content\">\n          <div style=\"text-align: left;margin-bottom: 20px;\">\n            <el-button type=\"primary\" @click=\"add('content')\">添加</el-button>\n          </div>\n          <el-table\n            border\n            v-loading=\"loading\"\n            :data=\"contentFields\">\n            <el-table-column\n              prop=\"id\"\n              label=\"ID\">\n            </el-table-column>\n            <el-table-column\n              prop=\"field\"\n              label=\"字段\">\n            </el-table-column>\n            <el-table-column\n              prop=\"label\"\n              label=\"标签\">\n            </el-table-column>\n            <el-table-column\n              prop=\"type\"\n              label=\"字段类型\">\n            </el-table-column>\n            <el-table-column\n              label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                <el-button type=\"text\" @click=\"handleDelete(scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    <el-dialog :title=\"fieldTitle\" :visible.sync=\"fieldVisible\">\n      <el-form :model=\"fieldForm\" label-width=\"100px\">\n        <el-form-item label=\"标签\">\n          <el-input v-model=\"fieldForm.label\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"字段\">\n          <el-input v-model=\"fieldForm.field\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"fieldForm.type\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"option in options\"\n              :key=\"option.value\"\n              :label=\"option.name\"\n              :value=\"option.type\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"选项\" v-if=\"showOptions\">\n            <add-options :options=\"fieldForm.extra\" @optionsChange=\"handleOptionsChange\"></add-options>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"fieldVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"doSaveField\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import addOptions from \"../components/addOptions\";\n  export default {\n    components:{\n      'add-options': addOptions\n    },\n    data(){\n      return {\n        id:null,\n        loading: false,\n        activeName: 'basic',\n        fields:[],\n\n        modelForm:{\n          id: null,\n          name: '',\n          channel_template_prefix: '',\n          content_template_prefix: ''\n        },\n\n        fieldTitle:'添加字段',\n        fieldVisible: false,\n        fieldForm:{\n          id: '',\n          model_id: null,\n          type: '',// text, select ...\n          field: '',\n          label: '',\n          extra: [],\n          is_channel: 0, // 1-channel | 0-content\n          is_custom: 1,\n          is_display: 1,\n          is_required: 0,\n        },\n        showOptions: false,\n        options:[]\n      }\n    },\n    watch:{\n      ['fieldForm.type'](newValue, oldValue){\n        this.options.forEach((item) => {\n          if(item.type == newValue){\n            if(item.extra.options){\n              this.showOptions = true;\n            }else{\n              this.showOptions = false;\n            }\n          }\n        });\n      }\n    },\n    computed:{\n      channelFields(){\n        return this.fields.filter(function(item){\n          return item.is_channel === 1;\n        })\n      },\n      contentFields(){\n        return this.fields.filter(function(item){\n          return item.is_channel === 0;\n        })\n      }\n    },\n    methods:{\n      handleEdit(row){\n        this.fieldVisible = true\n        Object.assign(this.fieldForm, row);\n      },\n      handleDelete(row){\n        this.$confirm('确定删除字段?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          let model_id = this.fieldForm.model_id\n          this.$http\n            .post(\"/admin/cms/model/delete/field\", {model_id: model_id, id: row.id})\n            .then(res => {\n              ///\n              this.loadModel(model_id);\n              this.$message({\n                type: 'success',\n                message: '删除成功!'\n              });\n            }).catch(()=>{});\n        });\n      },\n      beforeLeave(activeName, oldActiveName){\n        return true;\n      },\n      add(type){\n        if(!this.modelForm.id){\n          this.$message({\n            message: '请先提交基本信息!',\n            type: 'warning'\n          });\n          this.activeName = 'basic';\n          return;\n        }\n        if(type == 'channel'){\n          this.fieldForm.is_channel = 1;\n        }else if(type == 'content'){\n          this.fieldForm.is_channel = 0;\n        }\n        this.fieldVisible = true;\n        Object.assign(this.fieldForm, {\n          id: '',\n          type: '', // text, select ...\n          field: '',\n          label: '',\n          extra: [{name: '', value: ''}],\n          is_custom: 1,\n          is_display: 1,\n          is_required: 0,\n        });\n        this.showOptions = false;\n      },\n      loadFieldTypes(){\n        this.$http\n          .get(\"/admin/cms/model/field/types\")\n          .then(res => {\n            this.options = res.data;\n          });\n      },\n      loadModel(id){\n        this.$http\n          .get(\"/admin/cms/model/get\", {params: {id}})\n          .then(res => {\n            this.fields = res.data.fields;\n            Object.assign(this.modelForm, res.data)\n            this.fieldForm.model_id = res.data.id;\n          });\n      },\n      save(){\n        this.$http\n          .post(\"/admin/cms/model/save\", this.modelForm)\n          .then(res => {\n            if(res.success){\n              let message = '添加成功!'\n              if(this.modelForm.id){\n                message = '更新成功!';\n              }\n              this.$message({\n                message: message,\n                type: 'success'\n              });\n              Object.assign(this.modelForm, res.data);\n            }else{\n              this.$message({\n                message: '出错了!请联系管理员',\n                type: 'warning'\n              });\n            }\n          });\n      },\n      doSaveField(){\n        this.$http\n          .post(\"/admin/cms/model/save/field\", this.fieldForm)\n          .then(res => {\n            if(res.success){\n              this.fieldVisible = false;\n              let message = '添加成功!'\n              if(this.fieldForm.id)\n                message = '更新成功!';\n              this.$message({\n                message: message,\n                type: 'success'\n              });\n              this.loadModel(this.id);\n            }else{\n              this.$message({\n                message: '出错了!请联系管理员',\n                type: 'warning'\n              });\n            }\n          });\n      },\n      handleClick(tab, event) {\n        console.log(tab, event);\n      },\n      handleOptionsChange(val){\n        this.fieldForm.extra = val;\n      }\n    },\n    mounted() {\n      let id = this.$route.params.id;\n      this.id = id;\n      if(id){\n        this.loadModel(id);\n      }\n      this.loadFieldTypes();\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cms/setting/modelAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-model-add\"},[_c('div',{staticClass:\"top-buttons\",staticStyle:{\"display\":\"flex\",\"flex-flow\":\"row nowrap\"}},[_c('router-link',{attrs:{\"to\":\"/cms/setting/model\",\"tag\":\"div\"}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.modelForm.id ? '编辑':'新增')+\"模型\")])],1),_vm._v(\" \"),_c('div',[_c('el-tabs',{attrs:{\"tab-position\":\"left\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"basic\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.modelForm,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"模型名\"}},[_c('el-input',{model:{value:(_vm.modelForm.name),callback:function ($$v) {_vm.$set(_vm.modelForm, \"name\", $$v)},expression:\"modelForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"栏目模板前缀\"}},[_c('el-input',{model:{value:(_vm.modelForm.channel_template_prefix),callback:function ($$v) {_vm.$set(_vm.modelForm, \"channel_template_prefix\", $$v)},expression:\"modelForm.channel_template_prefix\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容模板前缀\"}},[_c('el-input',{model:{value:(_vm.modelForm.content_template_prefix),callback:function ($$v) {_vm.$set(_vm.modelForm, \"content_template_prefix\", $$v)},expression:\"modelForm.content_template_prefix\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"栏目字段\",\"name\":\"channel\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-bottom\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add('channel')}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"data\":_vm.channelFields}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"field\",\"label\":\"字段\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"label\",\"label\":\"标签\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"字段类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"内容字段\",\"name\":\"content\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-bottom\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add('content')}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"data\":_vm.contentFields}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"field\",\"label\":\"字段\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"label\",\"label\":\"标签\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"字段类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.fieldTitle,\"visible\":_vm.fieldVisible},on:{\"update:visible\":function($event){_vm.fieldVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.fieldForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"标签\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.fieldForm.label),callback:function ($$v) {_vm.$set(_vm.fieldForm, \"label\", $$v)},expression:\"fieldForm.label\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"字段\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.fieldForm.field),callback:function ($$v) {_vm.$set(_vm.fieldForm, \"field\", $$v)},expression:\"fieldForm.field\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.fieldForm.type),callback:function ($$v) {_vm.$set(_vm.fieldForm, \"type\", $$v)},expression:\"fieldForm.type\"}},_vm._l((_vm.options),function(option){return _c('el-option',{key:option.value,attrs:{\"label\":option.name,\"value\":option.type}})}),1)],1),_vm._v(\" \"),(_vm.showOptions)?_c('el-form-item',{attrs:{\"label\":\"选项\"}},[_c('add-options',{attrs:{\"options\":_vm.fieldForm.extra},on:{\"optionsChange\":_vm.handleOptionsChange}})],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.fieldVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSaveField}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-131ae350\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cms/setting/modelAdd.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./modelAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./modelAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-131ae350\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./modelAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cms/setting/modelAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}