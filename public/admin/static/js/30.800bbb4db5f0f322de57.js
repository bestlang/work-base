webpackJsonp([30],{"+dJ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4gwz"),a=n("gyMJ");function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var s=t[a](i),o=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}var s,o,c,l={components:{DepartmentTree:r.a},data:function(){return{department:{},employee:[]}},watch:(s={},o="department.id",c=function(e){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDepartmentEmployee();case 2:case"end":return e.stop()}},e,t)}))()},o in s?Object.defineProperty(s,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[o]=c,s),methods:{viewEmployee:function(e){var t=e.user_id;this.$router.push("/sniper/employee/employee/edit?employee_id="+t)},add:function(){var e=this.department.id;this.$router.push("/sniper/employee/employee/edit?department_id="+e)},handleNodeClick:function(e){this.department=e,console.log(e)},performTreeLoaded:function(e){this.department=e},getDepartmentEmployee:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.department.id,t.next=3,a.a.sniperGetDepartmentEmployee({departmentId:n});case 3:r=t.sent,i=r.data,e.employee=i;case 6:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"l-position-list"},[n("div",{directives:[{name:"title",rawName:"v-title",value:"员工列表",expression:"'员工列表'"}]}),e._v(" "),n("department-tree",{staticClass:"l-tree",attrs:{selectedKey:2},on:{nodeClick:e.handleNodeClick,treeLoaded:e.performTreeLoaded}}),e._v(" "),n("div",{staticClass:"l-block"},[n("div",{staticClass:"l-block-header"},[n("div",{staticClass:"l-flex"},[n("span",[n("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "+e._s(e.department.hasOwnProperty("name")?e.department.name:"")+"全员")]),e._v(" "),n("el-button-group",[n("el-button",{attrs:{type:"success",size:"small"},on:{click:e.add}},[n("i",{staticClass:"iconfont"},[e._v("")]),e._v("新增")])],1)],1)]),e._v(" "),n("div",{staticClass:"l-block-body"},[n("div",{staticClass:"l-employee-wrap"},[e.employee.length?e._l(e.employee,function(t,r){return n("div",{key:r,staticClass:"l-employee",on:{click:function(n){return e.viewEmployee(t)}}},[n("img",{staticStyle:{"border-radius":"100em"},attrs:{src:t.avatar?t.avatar:"/vendor/sniper/user.png",alt:""}}),e._v(" "),n("h1",{staticClass:"l-title"},[e._v(e._s(t.real_name))]),e._v(" "),n("div",{staticStyle:{"font-size":"10px"}},[e._v(e._s(t.user?t.user.email:""))])])}):n("div",{staticStyle:{"text-align":"center",color:"#ccc",width:"100%"}},[e._v("暂无人员")])],2)])])],1)},staticRenderFns:[]};var d=n("VU/8")(l,u,!1,function(e){n("W8X6")},"data-v-0e94a62f",null);t.default=d.exports},W8X6:function(e,t){}});
//# sourceMappingURL=30.800bbb4db5f0f322de57.js.map