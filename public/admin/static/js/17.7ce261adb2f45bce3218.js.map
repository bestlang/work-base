{"version":3,"sources":["webpack:///src/pages/cms/setting/model.vue","webpack:///./src/pages/cms/setting/model.vue?ac2f","webpack:///./src/pages/cms/setting/model.vue"],"names":["setting_model","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","size","on","click","handleAdd","_v","directives","name","rawName","value","expression","staticStyle","width","data","tableData","prop","label","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleDelete","title","visible","dialogFormVisible","update:visible","model","form","label-width","autocomplete","callback","$$v","$set","slot","submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","loading","methods","$store","dispatch","$types","CMS_CURRENT_MODEL","$router","push","_this","$confirm","confirmButtonText","cancelButtonText","then","$http","post","id","res","success","loadModels","$message","message","error","catch","add","_this2","_this3","get","created","__webpack_exports__"],"mappings":"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","file":"static/js/17.7ce261adb2f45bce3218.js","sourcesContent":["<template>\n  <div>\n    <div class=\"l-block\">\n    <div class=\"l-block-header\">\n      <div>\n        <!--<router-link to=\"/cms/setting/model/add\">-->\n          <el-button @click=\"handleAdd\" type=\"primary\" size=\"small\">新增</el-button>\n        <!--</router-link>-->\n      </div>\n      <div></div>\n    </div>\n    <div class=\"l-block-body\">\n    <el-table\n    v-loading=\"loading\"\n    :data=\"tableData\"\n    style=\"width: 100%\">\n      <el-table-column\n        prop=\"id\"\n        label=\"ID\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"名称\">\n      </el-table-column>\n      <el-table-column\n        prop=\"channel_template_prefix\"\n        label=\"栏目模板前缀\">\n      </el-table-column>\n      <el-table-column\n      prop=\"content_template_prefix\"\n      label=\"内容模板前缀\">\n      </el-table-column>\n      <el-table-column\n      label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n          <el-button type=\"text\" @click=\"handleDelete(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n  </el-table>\n    </div>\n    </div>\n    <el-dialog title=\"添加类型\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"类型\" label-width=\"100px\">\n          <el-input v-model=\"form.type\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"名称\" label-width=\"100px\">\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n        loading: true,\n        tableData: [],\n        dialogFormVisible: false,\n        form: {\n          name: '',\n          type: ''\n        },\n      }\n    },\n    methods:{\n      handleAdd(){\n          this.$store.dispatch(this.$types.CMS_CURRENT_MODEL, {});\n          this.$router.push('/cms/setting/model/add')\n      },\n      handleEdit(row){\n        this.$store.dispatch(this.$types.CMS_CURRENT_MODEL, row);\n        this.$router.push('/cms/setting/model/edit');\n      },\n      handleDelete(row){\n        this.$confirm('确定删除模型?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http\n            .post(\"/admin/cms/model/delete\", {id: row.id})\n            .then(res => {\n              if(res.success){\n                this.loadModels()\n                this.$message({\n                  type: 'success',\n                  message: '删除成功!'\n                });\n              }else{\n                this.$message({\n                  type: 'error',\n                  message: res.error\n                });\n              }\n\n            }).catch(()=>{});\n        });\n      },\n      add(){\n        this.$router.push('/cms/setting/model/add');\n      },\n      submit(){\n        this.$http\n          .post(\"/admin/cms/model/field/type/add\", this.form)\n          .then(res => {\n            // alert(JSON.stringify(res))\n            if(res.success) {\n              this.loading = true;\n              this.loadModels();\n              this.dialogFormVisible = false;\n              this.$message({\n                message: '添加成功!',\n                type: 'success'\n              });\n            }else{\n              this.$message({\n                message: res.error,\n                type: 'warning'\n              });\n            }\n          });\n      },\n      loadModels(){\n        this.$http\n          .get(\"/admin/cms/model\")\n          .then(res => {\n            this.loading = false;\n            this.tableData = res.data;\n          });\n      }\n    },\n    created() {\n      this.loadModels();\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cms/setting/model.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"l-block\"},[_c('div',{staticClass:\"l-block-header\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('div')]),_vm._v(\" \"),_c('div',{staticClass:\"l-block-body\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"channel_template_prefix\",\"label\":\"栏目模板前缀\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"content_template_prefix\",\"label\":\"内容模板前缀\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加类型\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7299934c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cms/setting/model.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7299934c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./model.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cms/setting/model.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}