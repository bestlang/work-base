{"version":3,"sources":["webpack:///src/components/tag.vue","webpack:///./src/components/tag.vue?6c11","webpack:///./src/components/tag.vue","webpack:///src/pages/cms/content/add.vue","webpack:///./src/pages/cms/content/add.vue?e440","webpack:///./src/pages/cms/content/add.vue"],"names":["tag","name","props","propData","type","Array","required","default","id","data","rowData","watch","deep","handler","val","this","$emit","methods","addRow","row","idx","obj","length","push","deleteRow","$delete","created","parseInt","components_tag","render","_vm","_h","$createElement","_c","_self","staticClass","_l","index","key","attrs","gutter","span","placeholder","model","value","callback","$$v","$set","expression","_v","staticStyle","margin-top","on","click","$event","staticRenderFns","src_components_tag","__webpack_require__","normalizeComponent","ssrContext","add","checkList","showSwitch","contents","formTitle","form","positions","ueditorConfig","ueditor","contentPositions","channel_id","components","channel-tree","channelTree","VueUeditorWrap","vue_ueditor_wrap_min_default","a","imageUpload","multipleImageUpload","attachment","computed","extends_default","Object","vuex_esm","_this","asyncToGenerator_default","regenerator_default","mark","_callee","_ref","wrap","_context","prev","next","api","getCmsChannelWhole","sent","$store","dispatch","$types","CMS_CURRENT_CHANNEL","loadModel","model_id","stop","goback","$router","saveContent","_this2","_callee2","_context2","currentModel","currentChannel","success","$message","message","handleNodeClick","node","_this3","_callee3","channel","_context3","CMS_PARENT_CHANNEL","loadContentPositions","_this4","_callee4","res","item","_context4","getModel","fields","filter","is_channel","CMS_CURRENT_MODEL","field","_this5","arguments","undefined","_callee5","_context5","abrupt","getContentPositions","mounted","_this6","_callee6","_context6","$route","query","content_add","directives","rawName","title","selectedKey","nodeClick","direction","font-weight","_s","label-width","label","_e","isArray","option","config","size","add_Component","add_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.fdf25282b5bfaeebc69d.js","sourcesContent":["<template>\n    <div class=\"add-row-tag\">\n        <el-row :gutter=\"0\" v-for=\"(row, index) in rowData\" :key=\"index\" class=\"row-item\">\n            <el-col :span=\"7\">\n                <!--<label>标签:</label>-->\n                <el-input\n                        class=\"row-ipt\"\n                        placeholder=\"请输入标签\"\n                        v-model=\"row.name\">\n                </el-input>\n            </el-col>\n            <el-col :span=\"3\" style=\"margin-top: 5px;\">\n                <i v-if=\"(index+1) == 1\" class=\"add-icon el-icon-circle-plus\" @click=\"addRow(row)\"></i>\n                <i v-else class=\"add-icon el-icon-remove\" @click=\"deleteRow(row)\"></i>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\n    export default {\n        name: 'tag',\n        props: {\n            propData: {\n                type: Array,\n                required: false,\n                default:function(){\n                    return [{\n                        id: 0,\n                        name: ''\n                    }]\n                }\n            }\n        },\n        data () {\n            return {\n                rowData: [{\n                        id: 0,\n                        name: ''\n                    }]\n            }\n        },\n        watch: {\n            'rowData': {\n                deep: true,\n                handler(val){\n                    this.$emit('tagChange', val)\n                }\n            }\n        },\n        methods: {\n            addRow (row) {\n                for(let idx in this.rowData){\n                    this.rowData[idx].id == idx\n                }\n                let obj = {\n                    id: this.rowData.length,\n                    name: ''\n                }\n                this.rowData.push(obj)\n            },\n            deleteRow (row) {\n                for(let idx in this.rowData){\n                    if(this.rowData[idx].id == row.id){\n                        this.$delete(this.rowData, idx)\n                        break;\n                    }\n                }\n            }\n        },\n        created() {\n            if (this.propData.length > 0) {\n                for(let idx in this.propData){\n                    this.propData[idx]['id'] = parseInt(idx)\n                }\n                this.rowData = this.propData;\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .add-row-tag {\n        color: #5a5e66;\n        font-size: 14px;\n        .row-item {\n            margin-bottom: 20px;\n        }\n        .el-col-7 {\n            width: inherit;\n        }\n        .el-col {\n            .row-ipt {\n                width: inherit;\n                width: 100px;\n                font-size: 12px;\n                margin-right: 5px;\n            }\n            .add-icon {\n                color: #2da3fb;\n                font-size: 30px;\n            }\n        }\n        /*.el-col:first-child:before {*/\n            /*content: \"*\";*/\n            /*color: #f56c6c;*/\n            /*margin-right: 4px;*/\n        /*}*/\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/tag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-row-tag\"},_vm._l((_vm.rowData),function(row,index){return _c('el-row',{key:index,staticClass:\"row-item\",attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{staticClass:\"row-ipt\",attrs:{\"placeholder\":\"请输入标签\"},model:{value:(row.name),callback:function ($$v) {_vm.$set(row, \"name\", $$v)},expression:\"row.name\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"span\":3}},[((index+1) == 1)?_c('i',{staticClass:\"add-icon el-icon-circle-plus\",on:{\"click\":function($event){return _vm.addRow(row)}}}):_c('i',{staticClass:\"add-icon el-icon-remove\",on:{\"click\":function($event){return _vm.deleteRow(row)}}})])],1)}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60bc020c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60bc020c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tag.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60bc020c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60bc020c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tag.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\n    .l-content-list{\n        display: flex;\n        flex-flow: row nowrap;\n        min-height: calc(100vh - 50px - 20px);\n        margin:-20px 0 -20px -20px;\n        overflow-x: hidden;\n        .l-tree-content{\n            padding: 20px;\n            flex-grow: 1;\n            display: flex;\n            flex-flow: row nowrap;\n            box-sizing: border-box;\n            width: calc(100% - 240px);\n        }\n    }\n</style>\n<template>\n    <div class=\"l-content-list\">\n        <div v-title=\"'内容管理'\"></div>\n        <channel-tree @nodeClick=\"handleNodeClick\" :title=\"'栏目选择'\" :selectedKey=\"channel_id\"></channel-tree>\n        <div class=\"l-tree-content\">\n            <div class=\"l-block\" v-if=\"currentModel\">\n                <div class=\"l-block-header\">\n                    <div>\n                        <span class=\"l-go-back\" @click=\"goback\"><span class=\"iconfont\">&#xe601;</span>返回</span>\n                        <el-divider direction=\"vertical\"></el-divider>\n                        <!--<i class=\"iconfont\">&#xe64c;</i>「」-->\n                        <span>在<span style=\"font-weight: 700\">“{{currentChannel.name}}”</span>下{{formTitle}}</span>\n                    </div>\n                </div>\n                <div class=\"l-block-body\">\n                    <el-form label-width=\"100px\">\n                        <template v-for=\"(item, index) in currentModel.fields\">\n\n                            <el-form-item v-if=\"item.type=='text'\" :label=\"item.label\">\n                                <el-input :key=\"index\" :name=\"item.field\" v-model=\"form[item.field]\"></el-input>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='checkbox' && Array.isArray(form[item.field])\" :label=\"item.label\">\n                                <el-checkbox-group v-model=\"form[item.field]\">\n                                    <el-checkbox :label=\"option.value\" v-for=\"option in item.extra\">{{option.name}}</el-checkbox>\n                                </el-checkbox-group>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='image'\" :label=\"item.label\">\n                                <image-upload v-model=\"form[item.field]\"></image-upload>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='multiple-image'\" :label=\"item.label\">\n                                <multiple-image-upload v-model=\"form[item.field]\"></multiple-image-upload>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='attachment'\" class=\"l-mb-22\" :label=\"item.label\">\n                                <div>\n                                    <attachment v-model=\"form[item.field]\"></attachment>\n                                </div>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='textarea'\" :label=\"item.label\">\n                                <el-input type=\"textarea\" v-model=\"form[item.field]\"></el-input>\n                            </el-form-item>\n\n                            <el-form-item v-if=\"item.type=='content'\" class=\"l-mb-22\" :label=\"item.label\">\n                                <div>\n                                    <vue-ueditor-wrap v-model=\"form[item.field]\" :config=\"ueditorConfig\"></vue-ueditor-wrap>\n                                </div>\n                            </el-form-item>\n                        </template>\n                        <el-form-item label=\"标签\">\n                            <tag></tag>\n                        </el-form-item>\n                        <el-form-item label=\"编辑推荐位\" v-if=\"contentPositions && contentPositions.length\">\n                            <el-checkbox-group  v-model=\"form['positions']\">\n                                <el-checkbox :label=\"option.id\" v-for=\"option in contentPositions\">{{option.name}}</el-checkbox>\n                            </el-checkbox-group>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button type=\"primary\" size=\"small\" @click=\"saveContent\">提交</el-button>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import channelTree from \"../components/channelTree\";\n    import VueUeditorWrap from 'vue-ueditor-wrap';\n    import ueditorConfig from \"../../../store/ueditor\";\n    import imageUpload from \"@/components/imageUpload\"\n    import multipleImageUpload from \"@/components/multipleImageUpload\"\n    import attachment from \"@/components/attachment\"\n    import tag from \"@/components/tag\"\n    import {mapGetters} from 'vuex'\n    import api from '../../../api/index'\n\n    export default {\n        data() {\n            return {\n                checkList:[],\n                showSwitch: false,\n                contents: [],\n                formTitle: '添加内容',\n                form:{\n                    positions:[]\n                },\n                ueditorConfig: ueditorConfig,\n                contentPositions: [],\n                channel_id: 0\n            }\n        },\n        components:{\n            'channel-tree': channelTree,\n            VueUeditorWrap,\n            imageUpload,\n            multipleImageUpload,\n            attachment,\n            tag\n        },\n        computed:{\n            ...mapGetters([\n                'parentChannel',\n                'currentChannel',\n                'currentModel',\n            ]),\n        },\n        watch:{\n            async channel_id(val){\n                if(val){\n                    let {data} = await api.getCmsChannelWhole({id: val})\n                    this.$store.dispatch(this.$types.CMS_CURRENT_CHANNEL, data);\n                    await this.loadModel(data.model_id)\n                }\n            }\n        },\n        methods: {\n            goback(){\n                this.$router.push('/cms/content?channel_id='+this.channel_id)\n            },\n            async saveContent(){\n                if(!this.form.channel_id && !this.form.model_id){\n                    this.$set(this.form, 'model_id', this.currentModel.id);\n                    this.$set(this.form, 'channel_id', this.currentChannel.id)\n                }\n                let res = await api.saveContent(this.form)\n                if(res.success){\n                    this.$message({\n                        type: 'success',\n                        message: '添加成功!'\n                    });\n                    this.goback()\n                }\n            },\n\n            async handleNodeClick(node, ...params){\n                let channel = node[0]\n                this.channel_id = channel.id\n                this.$store.dispatch(this.$types.CMS_CURRENT_CHANNEL, channel);\n                this.$store.dispatch(this.$types.CMS_PARENT_CHANNEL, channel);\n                await this.loadModel(channel.model.id)\n                await this.loadContentPositions()\n            },\n            async loadModel(id){\n                let res = await api.getModel({id})\n                let currentModel = res.data;\n                // 过滤掉模型中属于栏目的字段\n                currentModel.fields = currentModel.fields.filter(item => { return !item.is_channel })\n                this.$store.dispatch(this.$types.CMS_CURRENT_MODEL, currentModel)\n                for(let idx in this.currentModel.fields){\n                    let item = this.currentModel.fields[idx];\n                    // 重置表单\n                    this.$set(this.form, item.field, '');\n                    if(item.type == 'checkbox' || item.type == 'multiple-image'){\n                        this.$set(this.form, item.field, []);\n                    }\n                }\n                this.$set(this.form, 'positions', [])\n            },\n            async loadContentPositions(channel_id=0){\n                if(!channel_id){\n                    if(this.currentChannel && this.currentChannel.id){\n                        channel_id = this.currentChannel.id;\n                    }\n                }\n                // 没有选定的栏目, 不进行[可选推荐位]的加载\n                if(!channel_id){\n                    return;\n                }\n                let res = await api.getContentPositions({channel_id})\n                this.contentPositions = res.data\n            }\n        },\n        async mounted() {\n            this.channel_id = parseInt(this.$route.query.channel_id || 0);\n            await this.loadContentPositions(this.channel_id);\n            this.$store.dispatch('collapse');\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/cms/content/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-content-list\"},[_c('div',{directives:[{name:\"title\",rawName:\"v-title\",value:('内容管理'),expression:\"'内容管理'\"}]}),_vm._v(\" \"),_c('channel-tree',{attrs:{\"title\":'栏目选择',\"selectedKey\":_vm.channel_id},on:{\"nodeClick\":_vm.handleNodeClick}}),_vm._v(\" \"),_c('div',{staticClass:\"l-tree-content\"},[(_vm.currentModel)?_c('div',{staticClass:\"l-block\"},[_c('div',{staticClass:\"l-block-header\"},[_c('div',[_c('span',{staticClass:\"l-go-back\",on:{\"click\":_vm.goback}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"在\"),_c('span',{staticStyle:{\"font-weight\":\"700\"}},[_vm._v(\"“\"+_vm._s(_vm.currentChannel.name)+\"”\")]),_vm._v(\"下\"+_vm._s(_vm.formTitle))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"l-block-body\"},[_c('el-form',{attrs:{\"label-width\":\"100px\"}},[_vm._l((_vm.currentModel.fields),function(item,index){return [(item.type=='text')?_c('el-form-item',{attrs:{\"label\":item.label}},[_c('el-input',{key:index,attrs:{\"name\":item.field},model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1):_vm._e(),_vm._v(\" \"),(item.type=='checkbox' && Array.isArray(_vm.form[item.field]))?_c('el-form-item',{attrs:{\"label\":item.label}},[_c('el-checkbox-group',{model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}},_vm._l((item.extra),function(option){return _c('el-checkbox',{attrs:{\"label\":option.value}},[_vm._v(_vm._s(option.name))])}),1)],1):_vm._e(),_vm._v(\" \"),(item.type=='image')?_c('el-form-item',{attrs:{\"label\":item.label}},[_c('image-upload',{model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1):_vm._e(),_vm._v(\" \"),(item.type=='multiple-image')?_c('el-form-item',{attrs:{\"label\":item.label}},[_c('multiple-image-upload',{model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1):_vm._e(),_vm._v(\" \"),(item.type=='attachment')?_c('el-form-item',{staticClass:\"l-mb-22\",attrs:{\"label\":item.label}},[_c('div',[_c('attachment',{model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1)]):_vm._e(),_vm._v(\" \"),(item.type=='textarea')?_c('el-form-item',{attrs:{\"label\":item.label}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1):_vm._e(),_vm._v(\" \"),(item.type=='content')?_c('el-form-item',{staticClass:\"l-mb-22\",attrs:{\"label\":item.label}},[_c('div',[_c('vue-ueditor-wrap',{attrs:{\"config\":_vm.ueditorConfig},model:{value:(_vm.form[item.field]),callback:function ($$v) {_vm.$set(_vm.form, item.field, $$v)},expression:\"form[item.field]\"}})],1)]):_vm._e()]}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标签\"}},[_c('tag')],1),_vm._v(\" \"),(_vm.contentPositions && _vm.contentPositions.length)?_c('el-form-item',{attrs:{\"label\":\"编辑推荐位\"}},[_c('el-checkbox-group',{model:{value:(_vm.form['positions']),callback:function ($$v) {_vm.$set(_vm.form, 'positions', $$v)},expression:\"form['positions']\"}},_vm._l((_vm.contentPositions),function(option){return _c('el-checkbox',{attrs:{\"label\":option.id}},[_vm._v(_vm._s(option.name))])}),1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.saveContent}},[_vm._v(\"提交\")])],1)],2)],1)]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b6acd524\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cms/content/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b6acd524\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b6acd524\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b6acd524\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cms/content/add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}