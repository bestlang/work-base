webpackJsonp([17],{"+dJ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("bOdI"),r=n.n(a),s=n("Xxa5"),i=n.n(s),o=n("exGp"),c=n.n(o),l=n("4gwz"),d=n("gyMJ"),p={components:{DepartmentTree:l.a},data:function(){return{department:{},employee:[]}},watch:r()({},"department.id",function(e){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDepartmentEmployee();case 2:case"end":return e.stop()}},e,t)}))()}),methods:{viewEmployee:function(e){var t=e.user_id;this.$router.push("/sniper/employee/employee/edit?employee_id="+t)},add:function(){var e=this.department.id;this.$router.push("/sniper/employee/employee/edit?department_id="+e)},handleNodeClick:function(e){this.department=e,console.log(e)},performTreeLoaded:function(e){this.department=e},getDepartmentEmployee:function(){var e=this;return c()(i.a.mark(function t(){var n,a,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.department.id,t.next=3,d.a.sniperGetDepartmentEmployee({departmentId:n});case 3:a=t.sent,r=a.data,e.employee=r;case 6:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"l-position-list"},[n("div",{directives:[{name:"title",rawName:"v-title",value:"员工列表",expression:"'员工列表'"}]}),e._v(" "),n("department-tree",{staticClass:"l-tree",attrs:{selectedKey:2},on:{nodeClick:e.handleNodeClick,treeLoaded:e.performTreeLoaded}}),e._v(" "),n("div",{staticClass:"l-block"},[n("div",{staticClass:"l-block-header"},[n("div",{staticClass:"l-flex"},[n("span",[n("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "+e._s(e.department.hasOwnProperty("name")?e.department.name:"")+"全员")]),e._v(" "),n("el-button-group",[n("el-button",{attrs:{type:"success",size:"small"},on:{click:e.add}},[n("i",{staticClass:"iconfont"},[e._v("")]),e._v("新增")])],1)],1)]),e._v(" "),n("div",{staticClass:"l-block-body"},[n("div",{staticClass:"l-employee-wrap"},[e.employee.length?e._l(e.employee,function(t,a){return n("div",{key:a,staticClass:"l-employee",on:{click:function(n){return e.viewEmployee(t)}}},[n("img",{staticStyle:{"border-radius":"100em"},attrs:{src:t.avatar?t.avatar:"/vendor/sniper/user.png",alt:""}}),e._v(" "),n("h1",{staticClass:"l-title"},[e._v(e._s(t.real_name))]),e._v(" "),n("div",{staticStyle:{"font-size":"10px"}},[e._v(e._s(t.user?t.user.email:""))])])}):n("div",{staticStyle:{"text-align":"center",color:"#ccc",width:"100%"}},[e._v("暂无人员")])],2)])])],1)},staticRenderFns:[]};var m=n("VU/8")(p,u,!1,function(e){n("WKS3")},"data-v-58178b3e",null);t.default=m.exports},WKS3:function(e,t){}});
//# sourceMappingURL=17.e4a2e824d979172ae834.js.map